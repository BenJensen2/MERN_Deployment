{"ast":null,"code":"import _slicedToArray from\"/Users/ben/Desktop/MERNExam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'@reach/router';//Bootstrap\nimport Table from'react-bootstrap/Table';import Button from'react-bootstrap/Button';var List=function List(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),pets=_useState2[0],setPets=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];useEffect(function(){getPets();},[]);var sorted=function sorted(petsList){return petsList.sort(function(a,b){return a.type.localeCompare(b.type);});};var getPets=function getPets(){axios.get(\"http://localhost:8000/api/models\").then(function(res){console.log(res.data);setPets(sorted(res.data));setLoaded(true);console.log(\"Sorted Pets\",sorted(res.data));}).catch(function(err){console.log(err.response.data.errors);});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"Navbar\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Pet Shelter\"),/*#__PURE__*/React.createElement(\"p\",{className:\"topLink\"},/*#__PURE__*/React.createElement(Link,{to:\"/pets/new\"},\"add a pet to the shelter\"))),/*#__PURE__*/React.createElement(\"h4\",null,\"These pets are looking for a good home\"),/*#__PURE__*/React.createElement(Table,{bordered:true,striped:true},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Type\"),/*#__PURE__*/React.createElement(\"th\",null,\"Actions\"))),/*#__PURE__*/React.createElement(\"tbody\",null,loaded&&pets.map(function(pet,i){return/*#__PURE__*/React.createElement(\"tr\",{key:i},/*#__PURE__*/React.createElement(\"td\",null,pet.name),/*#__PURE__*/React.createElement(\"td\",null,pet.type),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/pets/\".concat(pet._id)},\"details\"),/*#__PURE__*/React.createElement(\"span\",null,\" | \"),/*#__PURE__*/React.createElement(Link,{to:\"/pets/\".concat(pet._id,\"/edit\")},\"edit\")));}))));};export default List;","map":{"version":3,"sources":["/Users/ben/Desktop/MERNExam/client/src/views/List.jsx"],"names":["React","useState","useEffect","axios","Link","Table","Button","List","props","pets","setPets","loaded","setLoaded","getPets","sorted","petsList","sort","a","b","type","localeCompare","get","then","res","console","log","data","catch","err","response","errors","map","pet","i","name","_id"],"mappings":"yJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,eAArB,CACA;AACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAW,eAEEP,QAAQ,EAFV,wCAEfQ,IAFe,eAETC,OAFS,8BAGMT,QAAQ,CAAC,KAAD,CAHd,yCAGfU,MAHe,eAGPC,SAHO,eAKtBV,SAAS,CAAC,UAAM,CACdW,OAAO,GACR,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMC,CAAAA,MAAM,CAAC,QAAPA,CAAAA,MAAO,CAACC,QAAD,CAAY,CACvB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,CAAc,SAACC,CAAD,CAAIC,CAAJ,QAAUD,CAAAA,CAAC,CAACE,IAAF,CAAOC,aAAP,CAAqBF,CAAC,CAACC,IAAvB,CAAV,EAAd,CAAP,CACD,CAFD,CAGA,GAAMN,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpBV,KAAK,CAACkB,GAAN,CAAU,kCAAV,EACGC,IADH,CACQ,SAAAC,GAAG,CAAI,CACXC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACAhB,OAAO,CAACI,MAAM,CAACS,GAAG,CAACG,IAAL,CAAP,CAAP,CACAd,SAAS,CAAC,IAAD,CAAT,CACAY,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA0BX,MAAM,CAACS,GAAG,CAACG,IAAL,CAAhC,EACD,CANH,EAOGC,KAPH,CAOS,SAAAC,GAAG,CAAI,CACZJ,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,QAAJ,CAAaH,IAAb,CAAkBI,MAA9B,EACD,CATH,EAUD,CAXD,CAaA,mBACE,4CACE,2BAAK,SAAS,CAAC,QAAf,eACE,4CADF,cAEE,yBAAG,SAAS,CAAC,SAAb,eACE,oBAAC,IAAD,EAAM,EAAE,CAAE,WAAV,6BADF,CAFF,CADF,cASE,uEATF,cAUE,oBAAC,KAAD,EAAO,QAAQ,KAAf,CAAgB,OAAO,KAAvB,eACI,8CACE,2CACE,qCADF,cAEE,qCAFF,cAGE,wCAHF,CADF,CADJ,cAQI,iCACGnB,MAAM,EACLF,IAAI,CAACsB,GAAL,CAAS,SAACC,GAAD,CAAKC,CAAL,qBACT,0BAAI,GAAG,CAAEA,CAAT,eACE,8BAAKD,GAAG,CAACE,IAAT,CADF,cAEE,8BAAKF,GAAG,CAACb,IAAT,CAFF,cAGE,2CACE,oBAAC,IAAD,EAAM,EAAE,iBAAWa,GAAG,CAACG,GAAf,CAAR,YADF,cAIE,sCAJF,cAKE,oBAAC,IAAD,EAAM,EAAE,iBAAWH,GAAG,CAACG,GAAf,SAAR,SALF,CAHF,CADS,EAAT,CAFJ,CARJ,CAVF,CADF,CAyCD,CAlED,CAoEA,cAAe5B,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from '@reach/router';\n//Bootstrap\nimport Table from 'react-bootstrap/Table'\nimport Button from 'react-bootstrap/Button';\n\nconst List = (props) => {\n\n  const [pets, setPets] = useState()\n  const [loaded, setLoaded] = useState(false);\n\n  useEffect(() => {\n    getPets();\n  }, [])\n  \n  const sorted=(petsList)=>{\n    return petsList.sort((a, b) => a.type.localeCompare(b.type))    \n  }\n  const getPets = () => {\n    axios.get(\"http://localhost:8000/api/models\")\n      .then(res => {\n        console.log(res.data)\n        setPets(sorted(res.data))\n        setLoaded(true)\n        console.log(\"Sorted Pets\",sorted(res.data))\n      })\n      .catch(err => {\n        console.log(err.response.data.errors)\n      })\n  };\n\n  return (\n    <div>\n      <div className=\"Navbar\">\n        <h1>Pet Shelter</h1>\n        <p className=\"topLink\">\n          <Link to={\"/pets/new\"}>\n            add a pet to the shelter\n          </Link>\n        </p>\n      </div>\n      <h4>These pets are looking for a good home</h4>\n      <Table bordered striped>\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Type</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {loaded &&\n              pets.map((pet,i) =>\n              <tr key={i}>\n                <td>{pet.name}</td>\n                <td>{pet.type}</td>\n                <td>\n                  <Link to={`/pets/${pet._id}`}>\n                    details\n                  </Link>\n                  <span> | </span>\n                  <Link to={`/pets/${pet._id}/edit`}>\n                    edit\n                  </Link>\n                </td>\n              </tr>\n              )\n            }\n          </tbody>\n        </Table>\n    </div>\n  )\n}\n\nexport default List;"]},"metadata":{},"sourceType":"module"}