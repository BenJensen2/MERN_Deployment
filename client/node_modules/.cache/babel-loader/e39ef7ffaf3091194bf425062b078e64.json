{"ast":null,"code":"import _slicedToArray from\"/Users/ben/Desktop/MERNExam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link,navigate}from'@reach/router';import axios from'axios';//Bootstrap\nimport Button from'react-bootstrap/Button';var Details=function Details(_ref){var pet=_ref.pet,setPet=_ref.setPet,pets=_ref.pets,setPets=_ref.setPets,id=_ref.id;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),petskills=_useState4[0],setPetskills=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loaded=_useState6[0],setLoaded=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),errors=_useState8[0],setErrors=_useState8[1];useEffect(function(){axios.get(\"http://localhost:8000/api/model/\".concat(id)).then(function(res){console.log(res.data);setPet(res.data);setPetskills(res.data.skills);setName(res.data.name);setLoaded(true);}).catch(function(err){console.log(\"Not Found Error\",err.response);setErrors(err.response);});},[]);var divStyle={border:\"solid 1px black\",display:\"inline-block\",padding:\"10px\"};// console.log(pet.skills)\nvar deletePet=function deletePet(id){console.log(\"Delete Handler\",id);axios.delete(\"http://localhost:8000/api/model/\".concat(id)).then(function(res){console.log(res.data);console.log(\"Pet id to filter\",pet._id);// setPets(pets.filter((pet) => pet._id !== id));\nnavigate(\"/\");})// .then()\n.catch(function(err){console.log(err.response);});};console.log(\"New list of pets\",pets);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"Navbar\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Pet Shelter\"),/*#__PURE__*/React.createElement(\"p\",{className:\"topLink\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"back to home\"))),loaded&&/*#__PURE__*/React.createElement(\"h4\",null,\"Details about: \",pet.name),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(Button,{variant:\"danger\",onClick:function onClick(){return deletePet(pet._id);}},\"Adopt \",pet.name)),loaded&&/*#__PURE__*/React.createElement(\"div\",{style:divStyle},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Pet Type:\"),/*#__PURE__*/React.createElement(\"output\",null,pet.type)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Description:\"),/*#__PURE__*/React.createElement(\"output\",null,pet.description)),pet.skills!==undefined&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Skills:\"),/*#__PURE__*/React.createElement(\"ul\",null,pet.skills.skill_1!==undefined&&/*#__PURE__*/React.createElement(\"li\",null,pet.skills.skill_1),pet.skills.skill_2!==undefined&&/*#__PURE__*/React.createElement(\"li\",null,pet.skills.skill_2),pet.skills.skill_3!==undefined&&/*#__PURE__*/React.createElement(\"li\",null,pet.skills.skill_3)))));};export default Details;","map":{"version":3,"sources":["/Users/ben/Desktop/MERNExam/client/src/views/Details.jsx"],"names":["React","useState","useEffect","Link","navigate","axios","Button","Details","pet","setPet","pets","setPets","id","name","setName","petskills","setPetskills","loaded","setLoaded","errors","setErrors","get","then","res","console","log","data","skills","catch","err","response","divStyle","border","display","padding","deletePet","delete","_id","type","description","undefined","skill_1","skill_2","skill_3"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link,navigate } from '@reach/router';\nimport axios from 'axios';\n//Bootstrap\nimport Button from 'react-bootstrap/Button';\n\nconst Details = ({pet,setPet,pets,setPets,id}) => {\n\n  const [name, setName] = useState(\"\");\n  const [petskills, setPetskills] = useState(\"\");\n  const [loaded, setLoaded] = useState(false);\n  const [errors, setErrors] = useState(\"\")\n\n\n  useEffect(() => {\n    axios.get(`http://localhost:8000/api/model/${id}`)\n      .then(res => {\n        console.log(res.data)\n        setPet(res.data)\n        setPetskills(res.data.skills)\n        setName(res.data.name)\n        setLoaded(true);\n      })\n      .catch(err => {\n        console.log(\"Not Found Error\", err.response)\n        setErrors(err.response)\n      })\n  }, [])\n\n  const divStyle = {\n    border: \"solid 1px black\",\n    display: \"inline-block\",\n    padding: \"10px\"\n  }\n\n  // console.log(pet.skills)\n\n  const deletePet = (id) => {\n    console.log(\"Delete Handler\", id)\n    axios.delete(`http://localhost:8000/api/model/${id}`)\n    .then(res => {\n      console.log(res.data)\n      console.log(\"Pet id to filter\",pet._id)\n      // setPets(pets.filter((pet) => pet._id !== id));\n      navigate(\"/\")\n    })\n    // .then()\n    .catch(err => {\n      console.log(err.response)\n    })\n  }\n  \n  console.log(\"New list of pets\",pets)\n  return (\n    <div>\n      <div className=\"Navbar\">\n        <h1>Pet Shelter</h1>\n        <p className=\"topLink\">\n          <Link to={\"/\"}>\n            back to home\n          </Link>\n        </p>\n      </div>\n      {loaded &&\n        <h4>Details about: {pet.name}</h4>\n      }\n        <p>\n          <Button \n            variant=\"danger\"\n            onClick={()=>deletePet(pet._id)}>\n              Adopt {pet.name}\n          </Button>\n        </p>\n      {loaded &&\n        <div style={divStyle}>\n          <div>\n            <label>Pet Type:</label>\n            <output>{pet.type}</output>\n          </div>\n          <div>\n            <label>Description:</label>\n            <output>{pet.description}</output>\n          </div>\n          {pet.skills !== undefined &&\n            <div>\n              <label>Skills:</label>\n              <ul>\n                {pet.skills.skill_1 !== undefined &&\n                  <li>{pet.skills.skill_1}</li>\n                }\n                {pet.skills.skill_2 !== undefined &&\n                  <li>{pet.skills.skill_2}</li>\n                }\n                {pet.skills.skill_3 !== undefined &&\n                  <li>{pet.skills.skill_3}</li>\n                }\n              </ul>\n            </div>\n          }\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default Details;"]},"metadata":{},"sourceType":"module"}