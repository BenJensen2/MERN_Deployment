{"ast":null,"code":"import _slicedToArray from\"/Users/ben/Desktop/MERNExam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link,navigate}from'@reach/router';import axios from'axios';//Bootstrap\nimport Button from'react-bootstrap/Button';var New=function New(_ref){var _errors$data,_errors$data$errors,_errors$data2,_errors$data2$errors,_errors$data3,_errors$data3$errors;var id=_ref.id;// STATE DATA\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),pet=_useState2[0],setPet=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),type=_useState6[0],setType=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),petskills=_useState10[0],setPetskills=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),skill_1=_useState12[0],setSkill_1=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),skill_2=_useState14[0],setSkill_2=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),skill_3=_useState16[0],setSkill_3=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),loaded=_useState18[0],setLoaded=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),errors=_useState20[0],setErrors=_useState20[1];useEffect(function(){axios.get(\"http://localhost:8000/api/model/\".concat(id)).then(function(res){console.log(res.data);setPet(res.data);setName(res.data.name);setType(res.data.type);setDescription(res.data.description);setSkill_1(res.data.skills.skill_1);setSkill_2(res.data.skills.skill_2);setSkill_3(res.data.skills.skill_3);setPetskills(res.data.skills);setLoaded(true);}).catch(function(err){console.log(\"Not Found Error\",err.response.data.message);setErrors(err.response.data.message);});},[]);// HANDLERS\nvar nameHandler=function nameHandler(e){setName(e.target.value);};var typeHandler=function typeHandler(e){setType(e.target.value);};var descriptionHandler=function descriptionHandler(e){setDescription(e.target.value);};var skill_1Handler=function skill_1Handler(e){setSkill_1(e.target.value);};var skill_2Handler=function skill_2Handler(e){setSkill_2(e.target.value);};var skill_3Handler=function skill_3Handler(e){setSkill_3(e.target.value);};var formStyle={border:\"solid 1px black\",display:\"inline-block\",padding:\"10px\"};var formHandler=function formHandler(e){updatePet(e);};var updatePet=function updatePet(e){e.preventDefault();console.log(\"Updated Pet\");var updatedPet={name:name,type:type,description:description,skills:{skill_1:skill_1,skill_2:skill_2,skill_3:skill_3}};axios.put(\"http://localhost:8000/api/model/update/\".concat(id),updatedPet).then(function(res){console.log(res.data);setErrors(\"\");}).catch(function(err){console.log(\"Error\",err.response.data.errors);setErrors(err.response);});};// console.log(\"setErrors\", errors)\nreturn/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"Navbar\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Pet Shelter\"),/*#__PURE__*/React.createElement(\"p\",{className:\"topLink\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"back to home\"))),/*#__PURE__*/React.createElement(\"h4\",null,\"Edit \"),/*#__PURE__*/React.createElement(\"form\",{style:formStyle,onSubmit:formHandler},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Pet Name:\",(errors===null||errors===void 0?void 0:(_errors$data=errors.data)===null||_errors$data===void 0?void 0:(_errors$data$errors=_errors$data.errors)===null||_errors$data$errors===void 0?void 0:_errors$data$errors.name)&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\" \",errors.data.errors.name.properties.message)),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:name,onChange:nameHandler})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Pet Type:\",(errors===null||errors===void 0?void 0:(_errors$data2=errors.data)===null||_errors$data2===void 0?void 0:(_errors$data2$errors=_errors$data2.errors)===null||_errors$data2$errors===void 0?void 0:_errors$data2$errors.type)&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\" \",errors.data.errors.type.properties.message)),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:type,onChange:typeHandler})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Pet Description:\",(errors===null||errors===void 0?void 0:(_errors$data3=errors.data)===null||_errors$data3===void 0?void 0:(_errors$data3$errors=_errors$data3.errors)===null||_errors$data3$errors===void 0?void 0:_errors$data3$errors.description)&&/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\" \",errors.data.errors.description.properties.message)),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:description,onChange:descriptionHandler})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Skill 1:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:skill_1,onChange:skill_1Handler})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Skill 1:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:skill_2,onChange:skill_2Handler})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Skill 1:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:skill_3,onChange:skill_3Handler})),/*#__PURE__*/React.createElement(Button,{type:\"submit\",value:\"Submit\"},\"Add Pet\")));};export default New;","map":{"version":3,"sources":["/Users/ben/Desktop/MERNExam/client/src/views/Edit.jsx"],"names":["React","useState","useEffect","Link","navigate","axios","Button","New","id","pet","setPet","name","setName","type","setType","description","setDescription","petskills","setPetskills","skill_1","setSkill_1","skill_2","setSkill_2","skill_3","setSkill_3","loaded","setLoaded","errors","setErrors","get","then","res","console","log","data","skills","catch","err","response","message","nameHandler","e","target","value","typeHandler","descriptionHandler","skill_1Handler","skill_2Handler","skill_3Handler","formStyle","border","display","padding","formHandler","updatePet","preventDefault","updatedPet","put","color","properties"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport { Link, navigate } from '@reach/router';\nimport axios from 'axios'\n//Bootstrap\nimport Button from 'react-bootstrap/Button';\n\nconst New = ({id}) => {\n  // STATE DATA\n  const [pet, setPet] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [type, setType] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [petskills, setPetskills] = useState(\"\");\n  const [skill_1, setSkill_1] = useState(\"\");\n  const [skill_2, setSkill_2] = useState(\"\");\n  const [skill_3, setSkill_3] = useState(\"\");\n  const [loaded, setLoaded] = useState(false);\n  const [errors, setErrors] = useState(\"\")\n\n  useEffect(() => {\n    axios.get(`http://localhost:8000/api/model/${id}`)\n      .then(res => {\n        console.log(res.data)\n        setPet(res.data)\n        setName(res.data.name)\n        setType(res.data.type)\n        setDescription(res.data.description)\n        setSkill_1(res.data.skills.skill_1)\n        setSkill_2(res.data.skills.skill_2)\n        setSkill_3(res.data.skills.skill_3)\n        setPetskills(res.data.skills)\n        setLoaded(true);\n      })\n      .catch(err => {\n        console.log(\"Not Found Error\", err.response.data.message)\n        setErrors(err.response.data.message)\n      })\n  }, [])\n\n  // HANDLERS\n  const nameHandler = (e) => {\n    setName(e.target.value)\n  }\n  const typeHandler = (e) => {\n    setType(e.target.value)\n  }\n  const descriptionHandler = (e) => {\n    setDescription(e.target.value)\n  }\n  const skill_1Handler = (e) => {\n    setSkill_1(e.target.value)\n  }\n  const skill_2Handler = (e) => {\n    setSkill_2(e.target.value)\n  }\n  const skill_3Handler = (e) => {\n    setSkill_3(e.target.value)\n  }\n\n  const formStyle = {\n    border: \"solid 1px black\",\n    display: \"inline-block\",\n    padding: \"10px\"\n  }\n\n  const formHandler = (e) => {\n    updatePet(e)\n  }\n\n  const updatePet = (e) => {\n    e.preventDefault()\n    console.log(\"Updated Pet\")\n    var updatedPet = {\n      name: name,\n      type: type,\n      description: description,\n      skills: {\n        skill_1: skill_1,\n        skill_2: skill_2,\n        skill_3: skill_3\n      }\n    };\n    axios.put(`http://localhost:8000/api/model/update/${id}`, updatedPet)\n      .then(res => {\n        console.log(res.data)\n        setErrors(\"\")\n      })\n      .catch(err => {\n        console.log(\"Error\",\n          err.response.data.errors)\n        setErrors(err.response)\n      })\n  }\n\n  // console.log(\"setErrors\", errors)\n  \n  return (\n    <div>\n      <div className=\"Navbar\">\n        <h1>Pet Shelter</h1>\n        <p className=\"topLink\">\n          <Link to={\"/\"}>\n            back to home\n          </Link>\n        </p>\n      </div>\n      <h4>Edit </h4>\n\n      <form style={formStyle} onSubmit={formHandler}>\n        <div>\n          <label>Pet Name:\n            {errors?.data?.errors?.name &&\n              <span style={{ color: \"red\" }}> {errors.data.errors.name.properties.message}</span>\n            }\n          </label>\n          <input type=\"text\" value={name} onChange={nameHandler} />\n        </div>\n\n        <div>\n          <label>Pet Type:\n            {errors?.data?.errors?.type &&\n              <span style={{ color: \"red\" }}> {errors.data.errors.type.properties.message}</span>\n            }\n          </label>\n          <input type=\"text\" value={type} onChange={typeHandler} />\n        </div>\n\n        <div>\n          <label>Pet Description:\n          {errors?.data?.errors?.description &&\n              <span style={{ color: \"red\" }}> {errors.data.errors.description.properties.message}</span>\n            }\n          </label>\n          <input type=\"text\" value={description} onChange={descriptionHandler} />\n        </div>\n\n        <div>\n          <label>Skill 1:\n          {/* {errors?.data?.errors?.skills.skill_1 &&\n              <span style={{ color: \"red\" }}> {errors.data.errors.skills.skill_1.properties.message}</span>\n            } */}\n          </label>\n          <input type=\"text\" value={skill_1} onChange={skill_1Handler} />\n        </div>\n\n        <div>\n          <label>Skill 1:\n          {/* {errors?.data?.errors?.skills.skill_2 &&\n              <span style={{ color: \"red\" }}> {errors.data.errors.skills.skill_2.properties.message}</span>\n            } */}\n          </label>\n          <input type=\"text\" value={skill_2} onChange={skill_2Handler} />\n        </div>\n\n        <div>\n          <label>Skill 1:\n          {/* {errors?.data?.errors?.skills.skill_3 &&\n              <span style={{ color: \"red\" }}> {errors.data.errors.skills.skill_3.properties.message}</span>\n            } */}\n          </label>\n          <input type=\"text\" value={skill_3} onChange={skill_3Handler} />\n        </div>\n        <Button\n          type=\"submit\"\n          value=\"Submit\">\n          Add Pet\n          </Button>\n      </form>\n    </div>\n  )\n}\n\nexport default New;"]},"metadata":{},"sourceType":"module"}